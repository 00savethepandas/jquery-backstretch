/*
 * jQuery Backstretch
 * Version 1.1
 * http://srobbin.com/jquery-plugins/jquery-backstretch/
 *
 * Add a dynamically-resized background image to the page
 *
 * Copyright (c) 2010 Scott Robbin (srobbin.com)
 * Dual licensed under the MIT and GPL licenses.
*/
(function(a){a.backstretch=function(l,g,m){function n(c){d=e.width();b=d/h;if(b>=e.height()){f=(b-e.height())/2;i={left:"0px",top:"-"+f+"px"}}else{b=e.height();d=b*h;f=(d-e.width())/2;i={left:"-"+f+"px",top:"0px"}}a("#backstretch img").width(d).height(b);j.centered&&a("#backstretch img").css(i);typeof c=="function"&&c()}var j={centered:true,speed:0},e="onorientationchange"in window?a(document):a(window),h,d,b,f,i;g&&typeof g=="object"&&a.extend(j,g);a(document).ready(function(){if(l){var c=a("<div />").attr("id","backstretch").css({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-9999});a("<img />").attr("src",l).css({position:"relative",display:"none"}).bind("load",function(){var k=a(this);h=k.width()/k.height();n(function(){k.fadeIn(j.speed,function(){typeof m=="function"&&m()})})}).appendTo(c);a("body").prepend(c);a(window).resize(n)}});return this}})(jQuery);