/*
 * jQuery Backstretch
 * Version 1.1
 * http://srobbin.com/jquery-plugins/jquery-backstretch/
 *
 * Add a dynamically-resized background image to the page
 *
 * Copyright (c) 2010 Scott Robbin (srobbin.com)
 * Dual licensed under the MIT and GPL licenses.
*/
(function(a){a.backstretch=function(k,g,l){function m(c){d=e.width();b=d/h;if(b>=e.height()){f=(b-e.height())/2;i={left:"0px",top:"-"+f+"px"}}else{b=e.height();d=b*h;f=(d-e.width())/2;i={left:"-"+f+"px",top:"0px"}}a("#backstretch img").width(d).height(b);j.centered&&a("#backstretch img").css(i);typeof c=="function"&&c()}var j={centered:true,speed:0},e="onorientationchange"in window?a(document):a(window),h,d,b,f,i;g&&typeof g=="object"&&a.extend(j,g);a(document).ready(function(){if(k){var c=a("<div />").attr("id","backstretch").css({left:0,top:0,position:"fixed",overflow:"hidden",zIndex:-9999}),p=a("<img />").css({position:"relative",display:"none"}).bind("load",function(n){var o=a(this);h=a(n.target).width()/a(n.target).height();m(function(){o.fadeIn(j.speed,function(){typeof l=="function"&&l()})})}).appendTo(c);a("body").prepend(c);p.attr("src",k);a(window).resize(m)}});return this}})(jQuery);